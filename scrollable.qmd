---
title: "Scrollable WODs"
author: "DJM"
date: today
format: html
---

```{r setup}
#| echo: false
#| message: false
library(DT)
library(dplyr)
library(stringr)
library(lubridate)
wods <- readRDS("hcf-wods.rds") |>
  rename(WOD = page) |>
  mutate(WOD = str_replace_all(WOD, "\n", "<br>"), 
         WOD = str_remove(WOD, "^CrossFit<br><br>Main:<br><br>"),
         WOD = str_remove(WOD, "^CrossFit<br><br>Main<br><br>"),
         WOD = str_remove(WOD, "^CrossFit<br><br>"),
         yearwk = paste0(year(Date), " W", week(Date))) |>
  arrange(desc(Date))
```

```{r show-table}
#| echo: false
#| column: page
wods |>
  datatable(
    extensions = "RowGroup",
    options = list(
      rowGroup = list(dataSrc = 2),
      scrollY = "700px", paging = FALSE, #width = "1000px",
      columnDefs = list(
        list(visible=FALSE, targets = 2),
        list(width="150px", targets = 0),
        list(width="750px", targets = 1))
    ),
    rownames = NULL, escape = FALSE
  ) |>
  formatDate("Date")
```
